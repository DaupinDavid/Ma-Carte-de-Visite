<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>DUAL RIDE | Dashboard Direction</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300..700&display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>
<style>
    .material-symbols-outlined { font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24; }
    .tab-btn { border-bottom: 2px solid transparent; color: #64748b; font-weight: 500; transition: all 0.2s; }
    .tab-btn:hover { color: #135bec; }
    .tab-btn.active { border-bottom: 2px solid #135bec; color: #135bec; font-weight: bold; }
    .tab-content { display: none; animation: fadeIn 0.3s ease-in-out; }
    .tab-content.active { display: block; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
    .matrix-table td, .matrix-table th { white-space: nowrap; }
</style>
<script>
    tailwind.config = {
        theme: {
            extend: {
                colors: { "primary": "#135bec", "bg-light": "#f8fafc" },
                fontFamily: { "display": ["Space Grotesk", "sans-serif"] },
            },
        },
    }
</script>
</head>
<body class="font-display bg-bg-light text-slate-800 h-screen flex overflow-hidden">

    <aside class="w-64 bg-white border-r border-slate-200 flex flex-col justify-between p-4 z-20 shadow-sm">
        <div>
            <div class="flex items-center gap-3 p-2 mb-8">
                <div class="bg-primary text-white p-2 rounded-lg"><span class="material-symbols-outlined">motorcycle</span></div>
                <div><h1 class="font-bold text-lg leading-tight">MOTO-FUSION</h1><p class="text-xs text-slate-500 font-medium">R&D Analytics v2.5</p></div>
            </div>
            <nav class="space-y-1">
                <a class="flex items-center gap-3 px-3 py-2.5 bg-primary/5 text-primary rounded-lg font-bold"><span class="material-symbols-outlined">dashboard</span>Vue Stratégique</a>
                <a class="flex items-center gap-3 px-3 py-2.5 hover:bg-slate-50 rounded-lg text-slate-600 font-medium"><span class="material-symbols-outlined">database</span>Data Lake (Excel)</a>
                <a class="flex items-center gap-3 px-3 py-2.5 hover:bg-slate-50 rounded-lg text-slate-600 font-medium"><span class="material-symbols-outlined">settings</span>Paramètres IA</a>
            </nav>
        </div>
        <div class="p-4 bg-slate-50 rounded-xl border border-slate-100">
            <p class="text-xs font-bold text-slate-400 mb-2">STATUT SYSTÈME</p>
            <div class="flex items-center gap-2 text-xs text-green-600 font-bold"><span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span> Gemini 1.5 Pro: Connecté</div>
        </div>
    </aside>

    <main class="flex-1 flex flex-col min-w-0">
        <header class="bg-white border-b border-slate-200 px-8 pt-8 sticky top-0 z-10">
            <div class="flex justify-between items-end mb-6">
                <div>
                    <h2 class="text-3xl font-black text-slate-900 tracking-tight">Analyse Décisionnelle</h2>
                    <p class="text-slate-500 mt-1">Source : 15 400 Profils Clients (Import Excel)</p>
                </div>
                <div class="flex gap-2">
                    <span class="px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-bold border border-green-200">Rentabilité : +18.2%</span>
                    <span class="px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-bold border border-blue-200">Confiance IA : 98%</span>
                </div>
            </div>
            <div class="flex gap-8">
                <button onclick="switchTab('tab1')" id="btn-tab1" class="tab-btn active pb-4 px-2 text-sm uppercase tracking-wide flex items-center gap-2">1. Matrice & Comparatif <span class="bg-slate-100 text-slate-600 text-[10px] px-1.5 py-0.5 rounded">DÉCIDER</span></button>
                <button onclick="switchTab('tab2')" id="btn-tab2" class="tab-btn pb-4 px-2 text-sm uppercase tracking-wide flex items-center gap-2">2. Analyse Marché <span class="bg-slate-100 text-slate-600 text-[10px] px-1.5 py-0.5 rounded">COMPARER</span></button>
                <button onclick="switchTab('tab3')" id="btn-tab3" class="tab-btn pb-4 px-2 text-sm uppercase tracking-wide flex items-center gap-2">3. Exploration IA <span class="bg-slate-100 text-slate-600 text-[10px] px-1.5 py-0.5 rounded">EXPLORER</span></button>
            </div>
        </header>

        <div class="flex-1 overflow-y-auto p-8 scroll-smooth">
            
            <div class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 mb-8">
                <div class="flex flex-col gap-2 rounded-xl border border-slate-200 bg-white p-6 shadow-sm">
                    <p class="text-slate-600 text-base font-medium leading-normal">MARGE PRÉVISIONNELLE</p>
                    <p class="text-slate-900 tracking-tight text-3xl font-bold leading-tight">18.2%</p>
                    <p class="text-green-500 text-base font-medium leading-normal flex items-center"><span class="material-symbols-outlined text-lg">arrow_upward</span>+1.5%</p>
                </div>
                <div class="flex flex-col gap-2 rounded-xl border border-slate-200 bg-white p-6 shadow-sm">
                    <p class="text-slate-600 text-base font-medium leading-normal">CONFORMITÉ EURO 5</p>
                    <p class="text-slate-900 tracking-tight text-3xl font-bold leading-tight">99.7%</p>
                    <p class="text-green-500 text-base font-medium leading-normal flex items-center"><span class="material-symbols-outlined text-lg">check_circle</span>Validé</p>
                </div>
                <div class="flex flex-col gap-2 rounded-xl border border-slate-200 bg-white p-6 shadow-sm">
                    <p class="text-slate-600 text-base font-medium leading-normal">DEMANDE TOTALE</p>
                    <p class="text-slate-900 tracking-tight text-3xl font-bold leading-tight">15 400</p>
                    <p class="text-green-500 text-base font-medium leading-normal flex items-center"><span class="material-symbols-outlined text-lg">trending_up</span>+54% en 2024</p>
                </div>
            </div>
            
            <div id="tab1" class="tab-content active space-y-6">
                
                <div class="bg-white p-6 rounded-xl border border-primary/20 shadow-lg border-l-4 border-l-primary">
                    <h3 class="font-bold text-lg text-primary flex items-center gap-2"><span class="material-symbols-outlined text-xl">psychology</span> EXPLICATION SÉMANTIQUE (GEMINI)</h3>
                    <p class="text-slate-700 mt-2 italic">Ce cluster regroupe des profils nostalgiques (Style Années 90) cherchant le look de l'ancien, mais exigeant une mécanique moderne, fiable, et compatible ZFE. Le client est prêt à payer un prix légèrement supérieur si la configuration industrielle est simplifiée.</p>
                </div>
                <div class="bg-white p-6 rounded-xl border border-slate-200 shadow-sm overflow-hidden">
                    <div class="flex justify-between items-center mb-4">
                        <div class="flex items-center gap-3">
                            <h3 class="font-bold text-lg flex items-center gap-2"><span class="material-symbols-outlined text-primary">table_view</span>Matrice de Rentabilité (10x8)</h3>
                            <span class="px-2 py-0.5 rounded bg-green-100 text-green-700 text-xs font-bold border border-green-200">DÉCIDER</span>
                        </div>
                        <span class="text-xs bg-slate-100 text-slate-500 px-2 py-1 rounded border">Scroll Horizontal ➔</span>
                    </div>
                    <div class="overflow-x-auto pb-2">
                        <table class="w-full text-sm text-center border-collapse matrix-table">
                            <thead>
                                <tr class="bg-slate-50 text-slate-500 text-xs uppercase tracking-wider">
                                    <th class="p-3 border text-left min-w-[200px] sticky left-0 bg-slate-50 z-10">Scénario Client</th>
                                    <th class="p-3 border">Euro 5b</th>
                                    <th class="p-3 border">Prix < 8k€</th>
                                    <th class="p-3 border">Moteur CP2</th>
                                    <th class="p-3 border">Moule Simple</th>
                                    <th class="p-3 border">Sécurité</th>
                                    <th class="p-3 border">Matériaux</th>
                                    <th class="p-3 border">Logistique</th>
                                    <th class="p-3 border bg-slate-100 font-black text-slate-900">SCORE IA</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="hover:bg-slate-50 transition-colors">
                                    <td class="p-3 border font-bold text-left sticky left-0 bg-white z-10 border-r-2 border-r-primary/20">
                                        <span class="text-green-600 mr-1">●</span> 1. Néo-Rétro 90s
                                    </td>
                                    <td class="p-3 border bg-green-50 text-green-700 font-bold">OK</td>
                                    <td class="p-3 border bg-green-50 text-green-700 font-bold">Validé</td>
                                    <td class="p-3 border bg-green-50 text-green-700 font-bold">Compatible</td>
                                    <td class="p-3 border bg-green-50 text-green-700 font-bold">Simple</td>
                                    <td class="p-3 border bg-green-50 text-green-700 font-bold">Std</td>
                                    <td class="p-3 border bg-green-50 text-green-700 font-bold">Plastique</td>
                                    <td class="p-3 border bg-green-50 text-green-700 font-bold">Europe</td>
                                    <td class="p-3 border font-black text-lg text-primary">98/100</td>
                                </tr>
                                <tr><td class="p-3 border text-left font-medium sticky left-0 bg-white">2. Sportive Vintage</td><td class="bg-green-50 border text-green-700">OK</td><td class="bg-yellow-50 border text-yellow-700">Limite</td><td class="bg-green-50 border text-green-700">Compatible</td><td class="bg-yellow-50 border text-yellow-700">Grand</td><td class="bg-green-50 border text-green-700">Std</td><td class="bg-green-50 border text-green-700">Plastique</td><td class="bg-green-50 border text-green-700">Europe</td><td class="border font-bold text-slate-600">85/100</td></tr>
                                <tr><td class="p-3 border text-left font-medium sticky left-0 bg-white">3. Café Racer Sport</td><td class="bg-green-50 border text-green-700">OK</td><td class="bg-green-50 border text-green-700">Validé</td><td class="bg-green-50 border text-green-700">Compatible</td><td class="bg-green-50 border text-green-700">Simple</td><td class="bg-green-50 border text-green-700">Std</td><td class="bg-green-50 border text-green-700">Plastique</td><td class="bg-green-50 border text-green-700">Europe</td><td class="border font-bold text-slate-600">82/100</td></tr>
                                <tr><td class="p-3 border text-left font-medium sticky left-0 bg-white">4. Street Rétro</td><td class="bg-green-50 border text-green-700">OK</td><td class="bg-green-50 border text-green-700">Validé</td><td class="bg-green-50 border text-green-700">Compatible</td><td class="bg-green-50 border text-green-700">Nul</td><td class="bg-green-50 border text-green-700">Std</td><td class="bg-green-50 border text-green-700">Plastique</td><td class="bg-green-50 border text-green-700">Europe</td><td class="border font-bold text-slate-600">80/100</td></tr>
                                <tr><td class="p-3 border text-left font-medium sticky left-0 bg-white">5. Scrambler 80s</td><td class="bg-green-50 border text-green-700">OK</td><td class="bg-yellow-50 border text-yellow-700">Limite</td><td class="bg-green-50 border text-green-700">Compatible</td><td class="bg-green-50 border text-green-700">Simple</td><td class="bg-yellow-50 border text-yellow-700">Offroad</td><td class="bg-green-50 border text-green-700">Plastique</td><td class="bg-yellow-50 border text-yellow-700">Pneus</td><td class="border font-bold text-slate-600">75/100</td></tr>
                                <tr><td class="p-3 border text-left font-medium sticky left-0 bg-white">6. Racer Caréné</td><td class="bg-green-50 border text-green-700">OK</td><td class="bg-green-50 border text-green-700">Validé</td><td class="bg-green-50 border text-green-700">Compatible</td><td class="bg-yellow-50 border text-yellow-700">Tête</td><td class="bg-green-50 border text-green-700">Std</td><td class="bg-green-50 border text-green-700">Plastique</td><td class="bg-green-50 border text-green-700">Europe</td><td class="border font-bold text-slate-600">72/100</td></tr>
                                <tr><td class="p-3 border text-left font-medium sticky left-0 bg-white text-slate-400">7. Rétro Perf.</td><td class="bg-green-50 border text-green-700">OK</td><td class="bg-red-50 border text-red-700 font-bold">Trop Cher</td><td class="bg-yellow-50 border text-yellow-700">Adapter</td><td class="bg-yellow-50 border text-yellow-700">Moyen</td><td class="bg-green-50 border text-green-700">Std</td><td class="bg-yellow-50 border text-yellow-700">Alu</td><td class="bg-yellow-50 border text-yellow-700">Complexe</td><td class="border font-bold text-slate-400">60/100</td></tr>
                                <tr><td class="p-3 border text-left font-medium sticky left-0 bg-white text-red-500">8. Cyber-Punk 90s</td><td class="bg-red-50 border text-red-700 font-bold">Risque</td><td class="bg-red-50 border text-red-700 font-bold">Trop Cher</td><td class="bg-green-50 border text-green-700">Compatible</td><td class="bg-red-50 border text-red-700 font-bold">Complexe</td><td class="bg-yellow-50 border text-yellow-700">Homolog.</td><td class="bg-green-50 border text-green-700">Plastique</td><td class="bg-red-50 border text-red-700 font-bold">Asie</td><td class="border font-bold text-red-500">45/100</td></tr>
                                <tr><td class="p-3 border text-left font-medium sticky left-0 bg-white text-red-500">9. Muscle Bike 80s</td><td class="bg-yellow-50 border text-yellow-700">Bruit</td><td class="bg-red-50 border text-red-700 font-bold">Trop Cher</td><td class="bg-red-50 border text-red-700 font-bold">Inadapté</td><td class="bg-green-50 border text-green-700">Carré</td><td class="bg-green-50 border text-green-700">Std</td><td class="bg-green-50 border text-green-700">Plastique</td><td class="bg-green-50 border text-green-700">Europe</td><td class="border font-bold text-red-500">30/100</td></tr>
                                <tr><td class="p-3 border text-left font-medium sticky left-0 bg-white text-red-500">10. Replica Bol dOr</td><td class="bg-yellow-50 border text-yellow-700">Bruit</td><td class="bg-red-50 border text-red-700 font-bold">Trop Cher</td><td class="bg-red-50 border text-red-700 font-bold">Inadapté</td><td class="bg-red-50 border text-red-700 font-bold">Grand</td><td class="bg-green-50 border text-green-700">Std</td><td class="bg-yellow-50 border text-yellow-700">Fibre</td><td class="bg-green-50 border text-green-700">Europe</td><td class="border font-bold text-red-500">25/100</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div class="bg-white p-6 rounded-xl border border-slate-200 shadow-sm">
                    <div class="flex justify-end items-center mb-2">
                        <div class="text-right">
                            <div class="flex items-center justify-end gap-2">
                                <h3 class="font-bold flex items-center gap-2">Comparateur de Performance (10 Modèles) <span class="material-symbols-outlined text-primary">radar</span></h3>
                                <span class="px-2 py-0.5 rounded bg-blue-100 text-blue-700 text-xs font-bold border border-blue-200">ÉVALUER</span>
                            </div>
                            <p class="text-xs text-slate-500 mt-1">Cliquez sur les légendes pour filtrer les motos</p>
                        </div>
                    </div>
                    <div id="radarChart" style="width:100%; height:500px;"></div>
                </div>
            </div>

            <div id="tab2" class="tab-content space-y-6">
                <div class="grid grid-cols-2 gap-6">
                    <div class="bg-white p-6 rounded-xl border border-slate-200 shadow-sm col-span-2">
                        <div class="flex justify-between items-center mb-4">
                            <div class="flex items-center gap-2">
                                <h3 class="font-bold">1. Volume de Demande par Style (Top 10)</h3>
                                <span class="px-2 py-0.5 rounded bg-purple-100 text-purple-700 text-xs font-bold border border-purple-200">COMPARER</span>
                            </div>
                        </div>
                        <div id="barChart" style="width:100%; height:350px;"></div>
                    </div>

                    <div class="bg-white p-6 rounded-xl border border-slate-200 shadow-sm">
                        <div class="flex justify-between items-center mb-4">
                            <div class="flex items-center gap-2">
                                <h3 class="font-bold">2. Segmentation Budgétaire</h3>
                                <span class="px-2 py-0.5 rounded bg-orange-100 text-orange-700 text-xs font-bold border border-orange-200">RÉPARTIR</span>
                            </div>
                        </div>
                        <div id="pieChart" style="width:100%; height:300px;"></div>
                    </div>

                    <div class="bg-white p-6 rounded-xl border border-slate-200 shadow-sm">
                        <div class="flex justify-between items-center mb-4">
                            <div class="flex items-center gap-2">
                                <h3 class="font-bold">3. Tendance Temporelle (Recherche)</h3>
                                <span class="px-2 py-0.5 rounded bg-indigo-100 text-indigo-700 text-xs font-bold border border-indigo-200">ÉVOLUER</span>
                            </div>
                        </div>
                        <div id="lineChart" style="width:100%; height:300px;"></div>
                    </div>
                </div>
            </div>

            <div id="tab3" class="tab-content">
                <div class="mb-4 p-6 bg-white rounded-xl border border-slate-200 shadow-sm flex justify-between items-center">
                    <div>
                        <h3 class="font-bold text-slate-900 text-xl">TensorFlow Projector (Connecté)</h3>
                        <p class="text-slate-500 text-sm">1. Cliquez sur "Load". 2. Chargez 'vectors.tsv' puis 'metadata.tsv'.</p>
                    </div>
                    <span class="px-3 py-1 rounded bg-pink-100 text-pink-700 text-sm font-bold border border-pink-200">LIVE IA</span>
                </div>

                <div class="bg-black rounded-xl border border-slate-800 shadow-sm overflow-hidden h-[700px] relative">
                    <iframe 
                        src="https://projector.tensorflow.org/" 
                        width="100%" 
                        height="100%" 
                        frameborder="0" 
                        style="border:none;"
                        allowfullscreen>
                    </iframe>
                </div>
            </div>

        </div>
    </main>
</div>

<script>
    function switchTab(tabId) {
        document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
        document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
        document.getElementById(tabId).classList.add('active');
        document.getElementById('btn-' + tabId).classList.add('active');
        window.dispatchEvent(new Event('resize')); 
    }

    // 1. RADAR CHART
    var stylesData = [
        { name: 'Néo-Rétro 90s', r: [98, 90, 60, 95, 80, 100], color: '#10b981', visible: true },
        { name: 'Sportive Vintage', r: [90, 70, 80, 90, 40, 90], color: '#3b82f6', visible: 'legendonly' },
        { name: 'Café Racer', r: [95, 85, 70, 90, 30, 95], color: '#6366f1', visible: 'legendonly' },
        { name: 'Street Rétro', r: [60, 95, 60, 98, 80, 100], color: '#64748b', visible: 'legendonly' },
        { name: 'Scrambler 80s', r: [80, 80, 50, 90, 90, 85], color: '#f59e0b', visible: 'legendonly' },
        { name: 'Racer Caréné', r: [80, 80, 70, 90, 20, 90], color: '#14b8a6', visible: 'legendonly' },
        { name: 'Rétro Perf.', r: [90, 20, 100, 60, 50, 90], color: '#06b6d4', visible: 'legendonly' },
        { name: 'Cyber-Punk 90s', r: [100, 30, 80, 80, 60, 40], color: '#d946ef', visible: 'legendonly' },
        { name: 'Muscle Bike', r: [85, 40, 95, 50, 40, 60], color: '#8b5cf6', visible: 'legendonly' },
        { name: 'Replica Bol dOr', r: [90, 20, 90, 70, 30, 50], color: '#f43f5e', visible: 'legendonly' }
    ];

    var radarTraces = stylesData.map(style => ({
        type: 'scatterpolar', r: style.r, theta: ['Style (/100)', 'Prix (€)', 'Vitesse (km/h)', 'Fiabilité (%)', 'Confort (/10)', 'Légal (Euro5)'], fill: 'toself', name: style.name, line: {color: style.color}, visible: style.visible
    }));

    var layoutRadar = { 
        polar: { radialaxis: { visible: true, range: [0, 100] } }, 
        showlegend: true, 
        margin: {t:20, b:20}, 
        legend: { orientation: 'v', x: 1, y: 1 }
    };
    Plotly.newPlot('radarChart', radarTraces, layoutRadar);

    // 2. BAR CHART
    Plotly.newPlot('barChart', [{
        x: ['Néo-Rétro 90s', 'Sportive Vintage', 'Café Racer', 'Scrambler 80s', 'Cyber-Punk', 'Replica Bol dOr', 'Street Rétro', 'Muscle Bike', 'Rétro Perf.', 'Racer Caréné'],
        y: [10472, 2310, 1200, 500, 300, 200, 150, 100, 80, 88], 
        type: 'bar', 
        marker: { color: ['#10b981', '#3b82f6', '#6366f1', '#f59e0b', '#d946ef', '#f43f5e', '#64748b', '#8b5cf6', '#06b6d4', '#14b8a6'] }
    }], { margin: {t:20, b:80}, yaxis: {title: 'Nombre de Clients'} });

    // 3. PIE CHART
    Plotly.newPlot('pieChart', [{
        values: [6930, 4620, 3080, 770],
        labels: ['< 8000€ (Cible)', '8k - 10k€', '10k - 12k€', '> 12k€'],
        type: 'pie', marker: { colors: ['#22c55e', '#3b82f6', '#f59e0b', '#ef4444'] }
    }], { margin: {t:20, b:20, l:20, r:20} });

    // 4. LINE CHART
    Plotly.newPlot('lineChart', [{
        x: [2020, 2021, 2022, 2023, 2024], y: [1200, 1800, 3500, 6800, 15400],
        mode: 'lines+markers', line: {color: '#135bec', width: 3}, fill: 'tozeroy'
    }], { margin: {t:20, b:30}, yaxis: {title: 'Requêtes'} });
    
    // Le 5ème Plotly (SCATTER 3D) a été remplacé par l'IFRAME TENSORFLOW en HTML (dans TAB 3)
</script>
</body>
</html>